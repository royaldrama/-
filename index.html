<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رويال دراما | المهندس علي</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        :root {
            --primary-gold: #D4AF37;  
            --dark-navy: #1A2238;     
            --soft-white: #F8F9FA;    
            --pure-white: #FFFFFF;    
            --text-main: #2D3436;     
        }

        * { box-sizing: border-box; transition: all 0.3s ease; }
        body { 
            font-family: 'Tajawal', sans-serif; 
            background-color: var(--soft-white); 
            color: var(--text-main); 
            margin: 0; 
            padding: 0; 
        }

        header {
            background: var(--dark-navy); 
            padding: 20px 5%; 
            display: flex; 
            justify-content: space-between;
            align-items: center; 
            border-bottom: 3px solid var(--primary-gold); 
            position: sticky; 
            top: 0; 
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            color: var(--pure-white);
            flex-wrap: wrap;
        }
        
        .logo { 
            font-size: 26px; 
            font-weight: 700; 
            color: var(--primary-gold); 
            cursor: pointer; 
            letter-spacing: 1px;
        }

        .search-container { padding: 40px 5% 20px; text-align: center; }
        #movie-search { 
            width: 100%; 
            max-width: 500px; 
            padding: 15px 25px; 
            border-radius: 50px; 
            border: 2px solid #ddd; 
            outline: none; 
            font-size: 16px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        #movie-search:focus { border-color: var(--primary-gold); }

        .main-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); 
            gap: 25px; 
            padding: 20px 5%; 
        }

        .series-card { 
            background: var(--pure-white); 
            border: 1px solid #eee; 
            border-radius: 20px; 
            padding: 50px 20px; 
            text-align: center; 
            cursor: pointer; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.05); 
        }
        .series-card h3 { margin: 0; color: var(--dark-navy); font-size: 22px; }
        
        .series-card:hover { 
            border-color: var(--primary-gold); 
            transform: translateY(-10px); 
            box-shadow: 0 12px 25px rgba(212, 175, 55, 0.2);
        }
        .series-card:active, .back-btn:active, .ep-btn:active { transform: scale(0.95); }

        #selection-section { 
            display: none; 
            padding: 40px 5%; 
            max-width: 1100px; 
            margin: 0 auto; 
            text-align: right; 
        }

        #player-container { 
            display: none; 
            margin-top: 30px; 
            width: 100%; 
            background: #000; 
            border-radius: 20px; 
            overflow: hidden; 
            aspect-ratio: 16/9; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            border: 2px solid var(--dark-navy);
        }
        video { width: 100%; height: 100%; }

        .back-btn { 
            display: inline-block; 
            margin-bottom: 25px; 
            padding: 12px 30px; 
            background: var(--primary-gold); 
            color: var(--dark-navy); 
            border-radius: 50px; 
            cursor: pointer; 
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(212, 175, 55, 0.3);
        }

        /* --- التعديل المطلوب لترتيب الحلقات --- */
        #episodes-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
            direction: rtl;
            margin-top: 20px;
        }

        .ep-btn { 
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--pure-white); 
            border: 2px solid #eee; 
            padding: 15px; 
            text-align: center; 
            border-radius: 12px; 
            cursor: pointer; 
            font-weight: bold; 
            color: var(--dark-navy);
            min-height: 60px;
        }
        /* ------------------------------------ */

        .ep-btn:hover { border-color: var(--primary-gold); }
        .ep-btn.active { 
            background: var(--primary-gold); 
            color: var(--dark-navy); 
            border-color: var(--primary-gold); 
        }

        footer { 
            padding: 40px; 
            text-align: center; 
            border-top: 1px solid #ddd; 
            color: #666; 
            margin-top: 40px; 
            background: #fff;
        }
    </style>
</head>
<body>

    <header>
        <div class="logo" onclick="showHome()">ROYAL DRAMA</div>
        <div style="font-size: 16px; font-weight: 300;">بإشراف المهندس علي</div>
    </header>

    <div id="home-page">
        <div class="search-container">
            <input type="text" id="movie-search" placeholder="ابحث عن مسلسل أو فيلم..." onkeyup="filterSeries()">
        </div>
        <div class="main-grid" id="series-list">
            <div class="series-card" onclick="openSeries(0)"><h3>مولانا</h3></div>
            <div class="series-card" onclick="openSeries(1)"><h3>باب الحارة</h3></div>
            <div class="series-card" onclick="openSeries(2)"><h3>بيت جدي</h3></div>
        </div>
    </div>

    <div id="selection-section">
        <div class="back-btn" onclick="showHome()">← العودة للرئيسية</div>
        <h1 id="series-title" style="color: var(--dark-navy); border-right: 5px solid var(--primary-gold); padding-right: 15px;"></h1>
        <p style="font-size: 18px; color: #555;">اختر الحلقة التي ترغب بمشاهدتها:</p>
        <div id="episodes-list"></div>

        <div id="player-container">
            <video id="main-player" controls></video>
        </div>
    </div>

    <footer>جميع الحقوق محفوظة &copy; 2026 | رويال دراما</footer>

    <script>
        const seriesData = [
            {
                name: "مولانا",
                episodes: [
{ title: "1", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-1.mp4/chunk.m3u8?nimblesessionid=4418384" },
{ title: "2", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-2.mp4/chunk.m3u8?nimblesessionid=4418630" },                                                                                                   
{ title: "3", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-3.mp4/chunk.m3u8?nimblesessionid=4441918" },                                                                                                                   
{ title: "4", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-4.mp4/chunk.m3u8?nimblesessionid=4444791" },                                                                                                             
{ title: "5", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-5.mp4/chunk.m3u8?nimblesessionid=4444944" },                                                                                                                   
{ title: "6", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-6.mp4/chunk.m3u8?nimblesessionid=4445104" },                                                                                                             
{ title: "7", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-7.mp4/chunk.m3u8?nimblesessionid=4445268" },  
{ title: "8", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-8.mp4/chunk.m3u8?nimblesessionid=4454344" },
{ title: "9", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-9.mp4/chunk.m3u8?nimblesessionid=4454467" },
{ title: "10", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-10.mp4/chunk.m3u8?nimblesessionid=4454593" },
{ title: "11", url: "https://fvideo6d.ddns.me/2vod5n/mawlana-11.mp4/chunk.m3u8?nimblesessionid=4454752" },
{ title: "12", url: "" },
{ title: "13", url: "" },
{ title: "14", url: "" },
{ title: "15", url: "" },
{ title: "16", url: "" },
{ title: "17", url: "" },
{ title: "18", url: "" },
{ title: "19", url: "" },
{ title: "20", url: "" },
{ title: "21", url: "" },
{ title: "22", url: "" },
{ title: "23", url: "" },
{ title: "24", url: "" },
{ title: "25", url: "" },
{ title: "26", url: "" },
{ title: "26", url: "" },
{ title: "28", url: "" },
{ title: "29", url: "" },
{ title: "30 و الأخيرة", url: "" }
                ]
            },
            {
                            name: "باب الحارة", 
               episodes: [
                                  { title: "1", url: "" },
                    { title: "2", url: "" },                                                                                                   
                    { title: "3", url: "" },                                                                                                                   
                    { title: "4", url: "" },                                                                                                             
                    { title: "5", url: "" },                                                                                                                   
                    { title: "6", url: "" },                                                                                                             
                    { title: "7", url: "" }
                           ]
                    },
            {
                              name: "بيت جدي", 
               episodes: [
                                 { title: "1", url: "" }] }
        ];

        let hls = new Hls();
        const video = document.getElementById('main-player');

        function openSeries(index) {
            const series = seriesData[index];
            document.getElementById('home-page').style.display = 'none';
            document.getElementById('selection-section').style.display = 'block';
            document.getElementById('player-container').style.display = 'none';
            document.getElementById('series-title').innerText = series.name;

            const epList = document.getElementById('episodes-list');
            epList.innerHTML = '';
            
            series.episodes.forEach((ep, i) => {
                const btn = document.createElement('div');
                btn.className = 'ep-btn';
                btn.innerText = "الحلقة " + ep.title;
                btn.onclick = function() { playVideo(ep.url, this); };
                epList.appendChild(btn);
            });
            window.scrollTo(0,0);
        }

        function playVideo(url, btn) {
            if(!url) { alert("عذراً، الرابط غير متوفر حالياً."); return; }
            document.getElementById('player-container').style.display = 'block';
            document.querySelectorAll('.ep-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            if (Hls.isSupported()) {
                hls.destroy();
                hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, () => {
                    video.play();
                    video.scrollIntoView({ behavior: 'smooth' });
                });
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = url;
                video.play();
            }
        }

        function showHome() {
            hls.destroy();
            video.pause();
            document.getElementById('home-page').style.display = 'block';
            document.getElementById('selection-section').style.display = 'none';
        }

        function filterSeries() {
            const input = document.getElementById('movie-search').value.toLowerCase();
            document.querySelectorAll('.series-card').forEach(card => {
                const name = card.querySelector('h3').innerText.toLowerCase();
                card.style.display = name.includes(input) ? 'block' : 'none';
            });
        }
    </script>
</body>
</html>
